gate mechanism: create threads, synchronize by waiting until all threads to finish before next iteration